{
  "title": "DockerCompose",
  "type": "object",
  "properties": {
    "version": {"type": "string"},
    "services": {
      "type": "object",
      "patternProperties": {
        "^[a-zA-Z0-9][a-zA-Z0-9_.-]*$": {
          "type": "object",
          "properties": {
            "image": {"type": "string"},
            "ports": {
              "type": "array",
              "items": {"type": "string"}
            },
            "environment": {
              "oneOf": [
                {
                  "type": "array",
                  "items": {"type": "string"}
                },
                {
                  "type": "object",
                  "patternProperties": {
                    ".*": {"type": "string"}
                  }
                }
              ]
            },
            "volumes": {
              "type": "array",
              "items": {"type": "string"}
            }
          }
        }
      }
    }
  },
  "required": ["version", "services"]
}